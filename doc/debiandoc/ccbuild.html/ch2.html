<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<title>ccbuild - A strict developer's build utility - How it works</title>

</head>

<body>

<p><a name="ch2"></a></p>
<hr>

<p>
[ <a href="ch1.html">previous</a> ]
[ <a href="index.html#contents">Contents</a> ]
[ <a href="ch1.html">1</a> ]
[ 2 ]
[ <a href="ch3.html">3</a> ]
[ <a href="ch4.html">4</a> ]
[ <a href="ch5.html">5</a> ]
[ <a href="ch6.html">6</a> ]
[ <a href="ch7.html">7</a> ]
[ <a href="apA.html">A</a> ]
[ <a href="apB.html">B</a> ]
[ <a href="ch3.html">next</a> ]
</p>

<hr>

<h1>
<code>ccbuild</code> - A strict developer's build utility
<br>Chapter 2 - How it works
</h1>

<hr>

<p>
To know how to work with <code>ccbuild</code> is of course the most important
thing (if you want to).  So here is a quick and simple review of what it does.
</p>

<p>
We will now consider what happens when <code>ccbuild</code> is called without
any arguments.
</p>

<p>
First <code>ccbuild</code> will find all source files in the current directory
(using the list of source extensions to find them.) All these files are scanned
which gives an in memory list of include statements and wether it has a main
function.
</p>

<p>
If it has a main function, it is a binary target: <code>ccbuild</code> will try
to make a program from this.
</p>

<p>
To find all the object files that need to be linked to the main program,
<code>ccbuild</code> will follow all local include statements (warning if any
fail).  Then it will scan all files next to these local includes.  If they are
object targets (don't have a <samp>int main</samp> function) they will be
compiled and linked to the main program.
</p>

<p>
The arguments needed to compile an object are gathered by the global includes.
Using the ccResolutions file, for every global include the arguments are added.
</p>

<p>
The needed linker arguments (which would create the &quot;not linking now&quot;
warning) are identified and kept back for later use when the program is
actually linked.  If anything goes wrong here, please mail me and hack the file
<samp>src/Compiler/countFirstLinkerArguments.cc</samp> for the meantime.  This
file contains two simple lists for for options with and options without
arguments.
</p>

<hr>

<p>
[ <a href="ch1.html">previous</a> ]
[ <a href="index.html#contents">Contents</a> ]
[ <a href="ch1.html">1</a> ]
[ 2 ]
[ <a href="ch3.html">3</a> ]
[ <a href="ch4.html">4</a> ]
[ <a href="ch5.html">5</a> ]
[ <a href="ch6.html">6</a> ]
[ <a href="ch7.html">7</a> ]
[ <a href="apA.html">A</a> ]
[ <a href="apB.html">B</a> ]
[ <a href="ch3.html">next</a> ]
</p>

<hr>

<p>
<code>ccbuild</code> - A strict developer's build utility
</p>

<address>
1.4.0<br>
<br>
A. Bram Neijt<br>
<br>
</address>
<hr>

</body>

</html>

